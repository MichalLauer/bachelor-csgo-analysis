
\subsubsection{Matice záměn pro mapu Vertigo}

\input{kod/matice/player_matice_Vertigo_opt.tex}

Matice záměn pro optimalizovaný model je v tabulce \ref{tab:player_matice_Vertigo_opt}
Model úspěšné predikoval 430 výher ($\sim 76,6 \%$) a 421 proher ($\sim 77,8 \%$). Celkově model úspěšně predikoval 851 objektů ($\sim 77,2 \%$)

\input{kod/matice_out/player_stats_Vertigo_opt.tex}

Z tabulky statistik \ref{tab:player_stats_Vertigo_opt} je vidět nepatrně lepší výkon při predikci výher (statistika Senzitivita) o necelé jedno procento.
Model se proto hodí spíše na predikci výher.

\subsection{Interpretace výsledků}
Model pro mapu Mirage je spolehlivější pro předpověď prohry hráče. Model pro mapu Vertigo má menší přesnost o zhruba 
2 procentní body a hodí se spíše k predikci výher hráčů.
Přehled výsledku přes ostatní mapy lze nalézt v příloze \ref{chap:ap02}

Pro logistický model mapy Mirage není významný prediktor \textit{hs}. Největší vliv na výhru hráče na mapě Mirage má počet jeho smrtí, kdy s každou další smrtí se šance
na výhru zmenšuje zhruba 0,69 krát. Pro mapu Vertigo jsou významné pouze prediktory \textit{kills}, \textit{assists} a \textit{deaths} a největší vliv na výhru hráče
má také počet smrtí, kde s každou hráčovou smrtí šance klesne zhruba 0,7 krát.

Rozdíl
ve významnosti prediktorů
by mohl být vysvětlen právě stářím jednotlivých map. Jelikož je mapa Mirage už tradiční mapou, mnoho hráčů na ní zná různé triky a strategie. To vede k tomu, že
každý malý detail hraje velikou roli a většina vybraných prediktorů je pro model významná. Naopak mapa Vertigo je relativně nová a pro hráče je nejdůležitější individuální
výkon. Jelikož hráči mapu tak dobře strategicky neznají, jsou významné pouze charakteristiky hráčů.

\newpage
\section{Predikce výhry týmu}
Cílem modelů je predikovat výhru na základě agregovaných charakteristik hráčů za tým na mapě. Charakteristiky jsou agregované buď pomocí aritmetického průměru,
nebo pomocí průměru geometrického. Ostatní charakteristiky zápasu jako počáteční strana či výherní tým nejsou nijak změněny. V modelu pro predikci týmu vystupuje
navíc prediktor \textit{team\_rank}, který ukazuje rank daného týmu na mapě. Dále je v modelu zakomponovaná interakce
mezi počáteční stranou (\textit{starting\_ct}) a hranou mapou (\textit{map}). Příklad tabulky s agregovanými charakteristikami je v příloze \ref{tab:data_agregovana}.

\subsection{Celkový model}

\input{kod/modely/team_model_All.tex}

Parametry celkového modelu se nachází v tabulce \ref{tab:team_model_All}. První vytvořený model je sestavený na celém trénovacím datovém souboru. Pro model jsou
významné všechny prediktory bez interakce, jmenovitě \textit{mean\_kills}, \textit{mean\_assists}, \textit{mean\_deaths}, \textit{mean\_hs},\textit{mean\_fkdiff} a
\textit{team\_rank}. Interakce mezi prediktory \textit{map} a \textit{starting\_ct} není významná u map Vertigo, Cache a Nuke.

Agregované charakteristiky hráče \textit{mean\_kills} a \textit{mean\_assists} šanci na výhru týmu zvyšují. Pokud se průměr zabitých nepřátel za tým zvýší o jednotku,
šance na výhru týmu se zvýší zhruba 3,96 krát. Pokud se průměr smrtí hráčů za tým zvýší o jednotku, šance na výhru se sníží zhruba 0,25 krát. Všechny statisticky
významné interakce mezi prediktory \textit{map} a \textit{starting\_ct} naznačují, že je pro tým nevýhodné začínat na straně Counter-Terroristů. Jejich šance
na výhru se vždy sníží, a to nejvíce na mapě Overpass, kde se šance sníží zhruba 0,62 krát. Zajímavý je koeficient u prediktoru \textit{team\_rank}, který říká,
že s růstem ranku týmu se šance na výhru sníží zhruba 0,99 krát. To lze vysvětlit tím, že lepší týmy hrají proti lepším týmům a jejich 
šance na výhru je nižší. Model lze zapsat jako přepis funkce následovně:

\begin{align*}
    \begin{split}
        P(1 | &X_{mean\_kills}, X_{mean\_assists}, X_{mean\_deaths}, X_{mean\_hs}, X_{mean\_fkdiff}, X_{team\_rank}, \\
              &X_{mapCache*starting\_ct}, X_{mapCobblestone*starting\_ct}, X_{mapDust2*starting\_ct}, X_{mapInferno*starting\_ct}, \\
              &X_{mapMirage*starting\_ct}, X_{mapNuke*starting\_ct}, X_{mapOverpass*starting\_ct}, X_{mapTrain*starting\_ct}, \\
              &X_{mapVertigo*starting\_ct}) = \frac{1}{1 + e^{-z}} \\
        z = &0,322 + 1,376*X_{mean\_kills} + 0,143*X_{mean\_assists} - 1,402*X_{mean\_deaths} - \\
            &- 0,615*X_{mean\_hs} - 0,064*X_{mean\_fkdiff} - 0,001*X_{team\_rank} - \\
            &- 0,040*X_{mapCache*starting\_ct} - 0,282*X_{mapCobblestone*starting\_ct} - \\
            &- 0,318*X_{mapDust2*starting\_ct} - 0,272*X_{mapInferno*starting\_ct} - \\
            &- 0,239*X_{mapMirage*starting\_ct} - 0,113*X_{mapNuke*starting\_ct} - \\
            &- 0,418*X_{mapOverpass*starting\_ct} - 0,177*X_{mapTrain*starting\_ct} + \\
            &+ 0,259*X_{mapVertigo*starting\_ct}
    \end{split}
\end{align*}

\subsubsection{Matice záměn pro obecný model}
Model je vyhodnocen na validační podmnožině, která činní 20 \% původního datového souboru.

\input{kod/matice/team_matice_All.tex}

Dle matice \ref{tab:team_matice_All} model úspěšně predikoval 8 274 výher ($\sim 94,1 \%$) a 8 203 proher ($\sim 94,0 \%$). Celkem
model predikoval správně 16 477 objektů ($\sim 94,1 \%$).

\input{kod/matice_out/team_stats_All.tex}

Všechny výkonnostní statistiky z matice záměn jsou identické v řádu setin procent. Z tabulky \ref{tab:team_stats_All} nelze jednoznačně určit, zda je tým
vhodnější na predikci výher či proher.

\subsection{Model pro tým Astralis}
Tým Astralis je v době extrakce dat jedním z nejlepších týmu na světě. Vyhrál několik prestižních majorů a i v roce 2022 se tým Astralis považuje za nejlepší tým
ve hře \ac{CSGO} všech dob.

\input{kod/modely/team_model_Astralis.tex}

Významné prediktory z tabulky \ref{tab:team_model_Astralis} jsou pro tým Astralis jsou pouze \textit{mean\_kills} a \textit{mean\_deaths}.  Pro tým
není statistický významné, jaký je průměrný počet asistencí (\textit{mean\_assists}), jaké je průměrné procento zabití do hlav (\textit{mean\_hs}), jaký je
průměrný výkon hráčů na začátku mapy (\textit{mean\_fkdiff}) ani rank týmu v daném zápase (\textit{team\_rank}). Tým Astralis navíc neovlivňuje počáteční strana,
mají tedy stejnou šanci na výhru bez ohledu na začínající stranu.

\input{kod/modely/team_model_Astralis_opt.tex}

Tabulka \ref{tab:team_model_Astralis_opt} popisuje již optimální parametry pro model týmu Astralis. S každým dalším průměrným zabitím se zvýší šance
týmu Astralis na výhru zhruba 3,85 krát. S každou další průměrnou smrtí se šance na výhru týmu sníží zhruba 0,23 krát. 
Před začátkem zápasu, tedy při nulových prediktorech \textit{mean\_kills} a \textit{mean\_deaths}, je šance na výhru týmu Astralis zhruba 9,75 větší, než jeho
prohra. Optimální model lze zapsat jako přepis rovnice.

\begin{align*}
    \begin{split}
        P(1 | &X_{mean\_kills},  X_{mean\_deaths}) = \frac{1}{1 + e^{-z}} \\
        z = &2,277 + 1,349*X_{mean\_kills} - 1,457*X_{mean\_deaths}
    \end{split}
\end{align*}

\subsubsection{Matice záměn pro tým Astralis}

\input{kod/matice/team_matice_Astralis_opt.tex}

Optimální model správně predikoval dle matice \ref{tab:team_matice_Astralis_opt} 54 výher ($\sim 93,1 \%$) a 108 proher ($\sim 93,9 \%$). Celkem optimální
model predikoval správně 162 objektů ($\sim 93,6 \%$). Statistiky jsou zobrazené v tabulce \ref{tab:team_stats_Astralis_opt} níže.

\input{kod/matice_out/team_stats_Astralis_opt.tex}

\subsection{Model pro tým Sprout}
Tým Sprout byl v době extrakce dat čistě Německý tým a patřil k průměrným profesionálnímu týmům. Na žebříčků týmu se obvykle řadil kolem třicátého místa.

\input{kod/modely/team_model_Sprout.tex}

Z tabulky modelu \ref{tab:team_model_Sprout} je vidět, že významné prediktory pro tým jsou pouze \textit{mean\_kills} a \textit{mean\_deaths}. Pro tým není významné,
na jaké straně začíná mapu (interakce \textit{map*starting\_ct}), jaký je jeho rank (\textit{team\_rank}), jak přesně průměrné střílí hráči týmu (\textit{mean\_hs}),
jak jsou průměrné hráči dobří na začátku kola (\textit{mean\_fkdiff}) ani kolik mají průměrně asistencí (\textit{mean\_assists}).

\input{kod/modely/team_model_Sprout_opt.tex}

Z tabulky \ref{tab:team_model_Sprout_opt} lze odhadnout, že s každým dalším průměrným zabitím (\textit{mean\_kills}) se šance na výhru týmu zvýší zhruba 4,95 krát.
S každou další průměrnou smrtí (\textit{mean\_deaths}) se šance na výhru sníží zhruba 0,23 krát. Ještě před začátkem zápasu je šance na prohru týmu
zhruba 0.12 krát větší, než na jeho výhru.

\begin{align*}
    \begin{split}
        P(1 | &X_{mean\_kills},  X_{mean\_deaths}) = \frac{1}{1 + e^{-z}} \\
        z = &-2,098 + 1,600*X_{mean\_kills} - 1,485*X_{mean\_deaths}
    \end{split}
\end{align*}

\subsubsection{Matice záměn pro tým Sprout}

\input{kod/matice/team_matice_Sprout_opt.tex}

Optimální model dle matice \ref{tab:team_matice_Sprout_opt} korektně předpověděl 54 výher ($\sim 93,1 \%$) a 62 proher ($\sim 96,9 \%$). Model úspěšně předpověděl
celkem 116 objektů ($\sim 95,1 \%$)

\input{kod/matice_out/team_stats_Sprout_opt.tex}

Statistiky modelu lze vidět v tabulce \ref{tab:team_stats_Sprout_opt}. Jelikož je senzitivita modelu o zhruba 4 procentní body větší,
model se více hodí na předpověď výhry týmu Sprout.

\subsection{Interpretace výsledků}
Pro celkový model jsou kromě interakcí $mapCache:starting\_ct$, $mapNuke:starting\_ct$ a $mapVertigo:starting\_ct$ významné všechny prediktory. Největší vliv na výhru má
prediktor \textit{mean\_deaths}, která šanci snižuje zhruba 0,25 krát. U všech významných kombinací mezi prediktory \textit{map} a \textit{starting\_ct} je koeficient
záporný. To naznačuje, že tým má menší šanci na výhru, pokud mapu začne na straně Counter-Terroristů. Největší negativní vliv je u mapy Overpass, kde se šance
sníží až 0,65 krát.

Tým Astralis má před začátkem zápasu, tedy při nulových prediktorech, šanci na výhru zhruba 9,75 větší, než na prohru. Vzhledem k tomu, že tým byl dlouhodobě považován
za jeden z nejlepších týmu na světě a v roce 2022 je mnoha hráči považován za nejlepší tým všech dob, je výsledek očekávaný. Tým Sprout má před začátkem zápasu 
šanci na prohru zhruba 0,25 krát větší, než na výhru. Tým je průměrně umístěn na třicátém místě, díky čemuž hraje převážně proti nejlepším padesáti týmům na světě.

Oba dva referenční modely mají stejné významné prediktory, a to \textit{mean\_kills} a \textit{mean\_deaths}. Pro žádný tým není významné, na jaké mapě začíná a jeho šanci
na výhru to nijak neovlivňuje. Z modelů lze usoudit, že nejlepší tým na světě a průměrný profesionální tým má stejné významné prediktory.Rozdíl mezi referenčními modely a 
celkovým modelem by bylo možné vysvětlit např. vlivem neprofesionálních týmů. Porovnávání neprofesionálních či polo-profesionálních týmu je složitější, jelikož týmy 
hrají méně zápasů, a není zaručeno, že mají dostatek zápasu na každé mapě. Datový soubor by bylo nutné tím pádem velmi omezit.